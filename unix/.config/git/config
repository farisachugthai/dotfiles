# Global Git Config
# Vim: set ft=gitconfig:

[user]
    email = farischugthai@gmail.com
    name = farisachugthai

[alias]
    # From: https://git-scm.com/book/en/v2/Git-Basics-Git-Aliases
    ci = commit
    co = checkout
    last = log -1 HEAD
    unstage = reset HEAD --

    # From varying Gists
    rel = rev-parse --show-prefix
    root = rev-parse --show-toplevel
    staged = diff --cached
    unstaged = diff

    # From: https://githowto.com/history
    # Run check git-log
    hist = log --pretty=format:'%h %ad | %s%d [%an]' --graph --date=short

    # General.
    br = branch
    bra = branch -a
    cl =  clone
    cls= clone --depth 1
    d = diff
    dt = difftool
    f = fetch --all
    m = merge
    mt = mergetool
    s = status -sb
    r = remote -v

    # stashes
    sh = stash --all
    shp = stash pop
    shl = stash list
    shd = stash drop
    shc = stash clear
    sha = stash apply
	switch = !legit switch
	sync = !legit sync
	publish = !legit publish
	unpublish = !legit unpublish
	undo = !legit undo
	branches = !legit branches

[branch]
    autosetupmerge = true

[cola]
    spellcheck = true
    tabwidth = 4
    expandtab = true
    boldheaders = true

[core]
    excludesfile = "$HOME/.config/git/ignore"
    filemode = false
    logallrefupdates = true
    repositoryformatversion = 0

[credential]
    helper = cache --timeout=86400

[credential "https://www.github.comm"]
    username = farisachugthai

# Man git-difftool: Line 85
# If difftool settings havent been set, fall back to mergetool
[diff]
    prompt = false
    # detect copied files as well as renames. affects merge and status.renames
    strategy-option = resolve
    tool = nvimdiff

[difftool "nvimdiff"]
    cmd = nvim-qt.exe -d $LOCAL $REMOTE
    cmd = nvim -d $LOCAL $REMOTE
    prompt = false

[grep]
    lineNumber = true
    extendedRegexp = true

[grep]
    lineNumber = true
    extendedRegexp = true

[gui]
    editor = nvim-qt.exe
    editor = nvim
    cmd = nvim -d $LOCAL $REMOTE
    prompt = false

[help]
    autocorrect = 1

[log]
    abbrevCommit = true

[merge]
    autoStash
    conflictstyle = diff3
    diffstat = true
    mergestyle = diff3
    prompt = false
    renormalize
    strategy-option = resolve
    summary = true
    tool = nvim-merge

# this is from justinmk
# https://github.com/neovim/neovim/issues/2377
[mergetool "nvim-merge"]
    cmd = nvim-qt.exe -d $BASE $LOCAL $REMOTE $MERGED -c '$wincmd w' -c 'wincmd J'
    cmd = nvim -d $BASE $LOCAL $REMOTE $MERGED -c '$wincmd w' -c 'wincmd J'
    # if it's not immediately clear what's going on, read up from this link:
    # http://blog.wuwon.id.au/2010/09/painless-merge-conflict-resolution-in.html
    # from this link we see that BASE is the commit that the file diverged at.
    # local and remote are the 2 paths we're trying to merge, and we can
    # determine which changes are necessary and what needs to be kept by
    # looking at those 4 buffers as a timeline

[pull]
    rebase = preserve
    renormalize

[push]
    default = simple

[rebase]
    autoStash = True
    stat = True
    missingCommitsCheck = "warn"  # jesus christ Git why are all your defaults destructive??

[status]
    showStash = True
    showUntrackedFiles = all

[url "git://github.com"]
    insteadOf = g:
    insteadOf = https://github.com
    name = farisachugthai

[url "git@gist.github.com"]
    insteadOf = "gist:"
    pushInsteadOf = "gist:"
